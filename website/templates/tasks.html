{% extends "base.html" %} {% block title %}Tasks{% endblock %}

{% block content %}

<div class="page-header">
    <h1 align="center">Your Tasks</h1>
</div>
<br/>
<div align="center">
<h2>Daily Tasks</h2>
<ul class="list-group list-group-flush">
    {% for task in user.tasks %}
    {% if task.xp == 10 %}
        <li class="list-group-item">
            <input type="checkbox" name="done" {% if task.is_done %} checked {%endif%} disabled onchange="this.form.submit()">
            <span {% if task.is_done %} style="text-decoration: line-through" {% endif %}>{{ task.data }}</span>
            <a href="{{ url_for('views.check_tasks', taskId = task.id)}}">
                <button type="button" class="btn btn-sm btn-success">
                    <i class="fas fa-check"></i> Done
                </button>
            </a>
            </button>
            <a href="{{ url_for('views.edit_tasks', taskId = task.id)}}">
                <button type="button" class="btn btn-sm btn-warning">
                    <i class="fas fa-edit"></i> Edit
                </button>
            </a>
            </button>
            <a href="{{ url_for('views.delete_tasks', taskId = task.id)}}">
                <button type="button" class="btn btn-sm btn-danger">
                    <i class="fas fa-trash"></i> Delete
                </button>
            </a>
            </button>
        </li>
    {% endif %}
    {% endfor %}
</ul>
<br/>
    <form action="{{ url_for('views.add_task', taskXp = 10)}}" method="post">
        <input type="text" name='task'>
        <button type="submit" class="btn btn-success">
            <span class="icon is-small">
                <i class="fas fa-plus" aria-hidden="true"></i>
            </span>Add task
        </button>
    </form>
</div>

<br/>

<div align="center">
    <h2>Weekly Tasks</h2>
    <ul class="list-group list-group-flush">
        {% for task in user.tasks %}
        {% if task.xp == 25 %}
        <li class="list-group-item">
            <input type="checkbox" name="done" {% if task.is_done %} checked {%endif%} disabled onchange="this.form.submit()">
            <span {% if task.is_done %} style="text-decoration: line-through" {% endif %}>{{ task.data }}</span>
            <a href="{{ url_for('views.check_tasks', taskId = task.id)}}">
                <button type="button" class="btn btn-sm btn-success">
                    <i class="fas fa-check"></i> Done
                </button>
            </a>
            </button>
            <a href="{{ url_for('views.edit_tasks', taskId = task.id)}}">
                <button type="button" class="btn btn-sm btn-warning">
                    <i class="fas fa-edit"></i> Edit
                </button>
            </a>
            </button>
            <a href="{{ url_for('views.delete_tasks', taskId = task.id)}}">
                <button type="button" class="btn btn-sm btn-danger">
                    <i class="fas fa-trash"></i> Delete
                </button>
            </a>
            </button>
        </li>
        {% endif %}
        {% endfor %}
    </ul>
    <br/>
        <form action="{{ url_for('views.add_task', taskXp = 25) }}" method="post">
            <input type="text" name='task'>
            <button type="submit" class="btn btn-success">
                <span class="icon is-small">
                    <i class="fas fa-plus" aria-hidden="true"></i>
                </span>Add task
            </button>
        </form>
    </div>

<br/>

<div align="center">
    <h2>Monthly Tasks</h2>
    <ul class="list-group list-group-flush">
        {% for task in user.tasks %}
        {% if task.xp == 50 %}
            <li class="list-group-item">
                <input type="checkbox" name="done" {% if task.is_done %} checked {%endif%} disabled onchange="this.form.submit()">
                <span {% if task.is_done %} style="text-decoration: line-through" {% endif %}>{{ task.data }}</span>
                <a href="{{ url_for('views.check_tasks', taskId = task.id)}}">
                    <button type="button" class="btn btn-sm btn-success">
                        <i class="fas fa-check"></i> Done
                    </button>
                </a>
                </button>
                <a href="{{ url_for('views.edit_tasks', taskId = task.id)}}">
                    <button type="button" class="btn btn-sm btn-warning">
                        <i class="fas fa-edit"></i> Edit
                    </button>
                </a>
                </button>
                <a href="{{ url_for('views.delete_tasks', taskId = task.id)}}">
                    <button type="button" class="btn btn-sm btn-danger">
                        <i class="fas fa-trash"></i> Delete
                    </button>
                </a>
                </button>
            </li>
        {% endif %}
        {% endfor %}
    </ul>
    <br/>
        <form action="{{ url_for('views.add_task', taskXp = 50) }}" method="post">
            <input type="text" name='task'>
            <button type="submit" class="btn btn-success">
                <span class="icon is-small">
                    <i class="fas fa-plus" aria-hidden="true"></i>
                </span>Add task
            </button>
        </form>
    </div>

<br/>

<div align="center">
    <h1>Current XP</h1>
    <h2>{{ user.currentXp }}/250</h2>
    <br/>
    <h4> Level progress:</h4>
    <h4> {{user.level_progress}} </h4>
    <progress id="level" value="{{user.currentXp}}" max="250">{{user.currentXp}} XP</progress>
    <h4>Level {{ current_user.level }}</h4>
</div>

<br/>

<div align="center">
    <h1>Total XP</h1>
    <h2>{{ user.totalXp }}</h2>
</div>

<br/>

{% endblock %}